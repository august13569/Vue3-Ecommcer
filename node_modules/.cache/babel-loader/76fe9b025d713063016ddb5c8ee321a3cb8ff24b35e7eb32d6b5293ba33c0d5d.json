{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, withModifiers as _withModifiers, createTextVNode as _createTextVNode, withCtx as _withCtx } from \"vue\";\nimport _imports_0 from '@/assets/img/Thank You.jpg';\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = {\n  class: \"my-5 row justify-content-center\",\n  style: {\n    \"min-height\": \"75vh\"\n  }\n};\nconst _hoisted_3 = {\n  class: \"table align-middle text-center\"\n};\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"Product\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Quantity\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Color\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Price\")], -1 /* HOISTED */);\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"td\", {\n  colspan: \"2\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"td\", {\n  class: \"text-primary\"\n}, \"Total\", -1 /* HOISTED */);\nconst _hoisted_7 = {\n  class: \"text-primary\"\n};\nconst _hoisted_8 = {\n  class: \"table\"\n};\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"th\", {\n  width: \"100\"\n}, \"Email\", -1 /* HOISTED */);\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"th\", null, \"Name\", -1 /* HOISTED */);\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"th\", null, \"Phone\", -1 /* HOISTED */);\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"th\", null, \"Address\", -1 /* HOISTED */);\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"th\", null, \"Note\", -1 /* HOISTED */);\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"th\", null, \"Statement\", -1 /* HOISTED */);\nconst _hoisted_15 = {\n  key: 0,\n  class: \"text-danger\"\n};\nconst _hoisted_16 = {\n  key: 1,\n  class: \"text-primary\"\n};\nconst _hoisted_17 = {\n  key: 0,\n  class: \"text-end\"\n};\nconst _hoisted_18 = /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"btn btn-danger\",\n  type: \"sumit\"\n}, \"Confirm\", -1 /* HOISTED */);\nconst _hoisted_19 = [_hoisted_18];\nconst _hoisted_20 = {\n  class: \"col text-center\"\n};\nconst _hoisted_21 = /*#__PURE__*/_createElementVNode(\"img\", {\n  class: \"img-fluid mb-3\",\n  src: _imports_0,\n  alt: \"Thank You\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_22 = {\n  class: \"mb-0\"\n};\nconst _hoisted_23 = {\n  class: \"text-primary\"\n};\nconst _hoisted_24 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"badge rounded-pill bg-primary px-3 py-2 mb-3\"\n}, \"Paied\", -1 /* HOISTED */);\nconst _hoisted_25 = /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"fs-5 mb-1\"\n}, \"Thank you for your purchase\", -1 /* HOISTED */);\nconst _hoisted_26 = /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"fs-5\"\n}, \"There are more products are available for you\", -1 /* HOISTED */);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Loading = _resolveComponent(\"Loading\");\n  const _component_FrontNavbar = _resolveComponent(\"FrontNavbar\");\n  const _component_StepsBar = _resolveComponent(\"StepsBar\");\n  const _component_router_link = _resolveComponent(\"router-link\");\n  const _component_FrontFooter = _resolveComponent(\"FrontFooter\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_Loading, {\n    active: $data.isLoading\n  }, null, 8 /* PROPS */, [\"active\"]), _createVNode(_component_FrontNavbar), !$data.order.is_paid ? (_openBlock(), _createBlock(_component_StepsBar, {\n    key: 0,\n    class: \"my-4\",\n    title: $data.stepsTitle\n  }, null, 8 /* PROPS */, [\"title\"])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_1, [_createCommentVNode(\" Order Info \"), _createElementVNode(\"div\", _hoisted_2, [!$data.order.is_paid ? (_openBlock(), _createElementBlock(\"form\", {\n    key: 0,\n    class: \"col-md-6\",\n    onSubmit: _cache[0] || (_cache[0] = _withModifiers((...args) => $options.payOrder && $options.payOrder(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"table\", _hoisted_3, [_hoisted_4, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.order.products, item => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: item.id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(item.product.title), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(item.qty), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(item.product.unit), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(item.final_total), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"tfoot\", null, [_createElementVNode(\"tr\", null, [_hoisted_5, _hoisted_6, _createElementVNode(\"td\", _hoisted_7, _toDisplayString($data.order.total), 1 /* TEXT */)])])]), _createElementVNode(\"table\", _hoisted_8, [_createElementVNode(\"tbody\", null, [_createElementVNode(\"tr\", null, [_hoisted_9, _createElementVNode(\"td\", null, _toDisplayString($data.order.user.email), 1 /* TEXT */)]), _createElementVNode(\"tr\", null, [_hoisted_10, _createElementVNode(\"td\", null, _toDisplayString($data.order.user.name), 1 /* TEXT */)]), _createElementVNode(\"tr\", null, [_hoisted_11, _createElementVNode(\"td\", null, _toDisplayString($data.order.user.tel), 1 /* TEXT */)]), _createElementVNode(\"tr\", null, [_hoisted_12, _createElementVNode(\"td\", null, _toDisplayString($data.order.user.address), 1 /* TEXT */)]), _createElementVNode(\"tr\", null, [_hoisted_13, _createElementVNode(\"td\", null, _toDisplayString($data.order.message), 1 /* TEXT */)]), _createElementVNode(\"tr\", null, [_hoisted_14, _createElementVNode(\"td\", null, [!$data.order.is_paid ? (_openBlock(), _createElementBlock(\"span\", _hoisted_15, \"Unpay\")) : (_openBlock(), _createElementBlock(\"span\", _hoisted_16, \"Paied\"))])])])]), $data.order.is_paid === false ? (_openBlock(), _createElementBlock(\"div\", _hoisted_17, [..._hoisted_19])) : _createCommentVNode(\"v-if\", true)], 32 /* NEED_HYDRATION */)) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createCommentVNode(\" Paied Order \"), _createElementVNode(\"div\", _hoisted_20, [_hoisted_21, _createElementVNode(\"p\", _hoisted_22, [_createTextVNode(\"Order Number: \"), _createElementVNode(\"span\", _hoisted_23, _toDisplayString($data.orderId), 1 /* TEXT */)]), _hoisted_24, _hoisted_25, _hoisted_26, _createVNode(_component_router_link, {\n    to: \"/products\",\n    role: \"button\",\n    class: \"btn btn-primary btn-lg text-white mb-5\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\" Let's find out \")]),\n    _: 1 /* STABLE */\n  })])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))])]), _createVNode(_component_FrontFooter)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_imports_0","class","style","_createElementVNode","colspan","width","type","_hoisted_18","src","alt","_createVNode","_component_Loading","active","$data","isLoading","_component_FrontNavbar","order","is_paid","_createBlock","_component_StepsBar","title","stepsTitle","_hoisted_1","_createCommentVNode","_hoisted_2","_createElementBlock","onSubmit","_cache","_withModifiers","args","$options","payOrder","_hoisted_3","_hoisted_4","_Fragment","_renderList","products","item","key","id","_toDisplayString","product","qty","unit","final_total","_hoisted_5","_hoisted_6","_hoisted_7","total","_hoisted_8","_hoisted_9","user","email","_hoisted_10","name","_hoisted_11","tel","_hoisted_12","address","_hoisted_13","message","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","orderId","_hoisted_24","_hoisted_25","_hoisted_26","_component_router_link","to","role","_component_FrontFooter"],"sources":["C:\\Users\\augus\\OneDrive\\桌面\\暫存區\\vue-practice\\brite\\src\\views\\front\\CheckOut.vue"],"sourcesContent":["<template>\n  <Loading :active=\"isLoading\"></Loading>\n  <FrontNavbar />\n  <StepsBar class=\"my-4\" :title=\"stepsTitle\" v-if=\"!order.is_paid\"></StepsBar>\n  <div class=\"container\">\n    <!-- Order Info -->\n    <div class=\"my-5 row justify-content-center\" style=\"min-height: 75vh\">\n      <form class=\"col-md-6\" @submit.prevent=\"payOrder\" v-if=\"!order.is_paid\">\n        <table class=\"table align-middle text-center\">\n          <thead>\n          <th>Product</th>\n          <th>Quantity</th>\n          <th>Color</th>\n          <th>Price</th>\n          </thead>\n          <tbody>\n          <tr v-for=\"item in order.products\" :key=\"item.id\">\n            <td>{{ item.product.title }}</td>\n            <td>{{ item.qty }}</td>\n            <td>{{ item.product.unit }}</td>\n            <td>{{ item.final_total }}</td>\n          </tr>\n          </tbody>\n          <tfoot>\n          <tr>\n            <td colspan=\"2\"></td>\n            <td class=\"text-primary\">Total</td>\n            <td class=\"text-primary\">{{ order.total }}</td>\n          </tr>\n          </tfoot>\n        </table>\n        <table class=\"table\">\n          <tbody>\n          <tr>\n            <th width=\"100\">Email</th>\n            <td>{{ order.user.email }}</td>\n          </tr>\n          <tr>\n            <th>Name</th>\n            <td>{{ order.user.name }}</td>\n          </tr>\n          <tr>\n            <th>Phone</th>\n            <td>{{ order.user.tel }}</td>\n          </tr>\n          <tr>\n            <th>Address</th>\n            <td>{{ order.user.address }}</td>\n          </tr>\n          <tr>\n            <th>Note</th>\n            <td>{{ order.message }}</td>\n          </tr>\n          <tr>\n            <th>Statement</th>\n            <td>\n              <span class=\"text-danger\" v-if=\"!order.is_paid\">Unpay</span>\n              <span class=\"text-primary\" v-else>Paied</span>\n            </td>\n          </tr>\n          </tbody>\n        </table>\n        <div class=\"text-end\" v-if=\"order.is_paid === false\">\n          <button class=\"btn btn-danger\" type=\"sumit\">Confirm</button>\n        </div>\n      </form>\n      <!-- Paied Order -->\n      <div class=\"col text-center\" v-else>\n        <img class=\"img-fluid mb-3\" src=\"~@/assets/img/Thank You.jpg\" alt=\"Thank You\">\n        <p class=\"mb-0\">Order Number: <span class=\"text-primary\">{{ orderId }}</span></p>\n        <span class=\"badge rounded-pill bg-primary px-3 py-2 mb-3\">Paied</span>\n        <p class=\"fs-5 mb-1\">Thank you for your purchase</p>\n        <p class=\"fs-5\">There are more products are available for you</p>\n        <router-link to=\"/products\" role=\"button\"\n                     class=\"btn btn-primary btn-lg text-white mb-5\">\n                     Let's find out\n        </router-link>\n      </div>\n    </div>\n  </div>\n  <FrontFooter />\n</template>\n\n<script>\nimport FrontNavbar from '@/components/FrontNavbar.vue';\nimport FrontFooter from '@/components/FrontFooter.vue';\nimport StepsBar from '@/components/StepsBar.vue';\n\nexport default {\n  components: {\n    FrontNavbar,\n    FrontFooter,\n    StepsBar,\n  },\n  data() {\n    return {\n      stepsTitle: 'Checkout',\n      order: {\n        user: {},\n      },\n      orderId: '',\n      isLoading: false,\n    };\n  },\n  methods: {\n    // 取得訂單資訊\n    getOrder() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order/${this.orderId}`;\n      this.$http.get(url)\n        .then((res) => {\n          if (res.data.success) {\n            this.order = res.data.order;\n          }\n        })\n        .catch((err) => {\n          this.$emitter.emit('push-message', {\n            style: 'danger',\n            title: 'Something went wrong, please try again.',\n          });\n        });\n    },\n    // 確認支付訂單\n    payOrder() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/pay/${this.orderId}`;\n      this.$http.post(url)\n        .then((res) => {\n          if (res.data.success) {\n            this.getOrder();\n          }\n        })\n        .catch((err) => {\n          this.$emitter.emit('push-message', {\n            style: 'danger',\n            title: 'Something went wrong, please try again.',\n          });\n        });\n    },\n  },\n  created() {\n    // 從路由參數中取得訂單ID\n    this.orderId = this.$route.params.orderId;\n    this.getOrder();\n  },\n};\n</script>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}