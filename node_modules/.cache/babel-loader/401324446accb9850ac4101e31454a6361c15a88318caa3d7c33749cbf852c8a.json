{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = {\n  class: \"my-5 row justify-content-center\",\n  style: {\n    \"min-height\": \"75vh\"\n  }\n};\nconst _hoisted_3 = {\n  class: \"table align-middle\"\n};\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", {\n  class: \"text-center\"\n}, [/*#__PURE__*/_createElementVNode(\"th\", null, \"Product\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Quantity\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Color\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Price\")])], -1 /* HOISTED */);\nconst _hoisted_5 = {\n  class: \"text-end\"\n};\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"td\", {\n  colspan: \"2\",\n  class: \"text-end\"\n}, \"Total\", -1 /* HOISTED */);\nconst _hoisted_7 = {\n  class: \"text-end\"\n};\nconst _hoisted_8 = {\n  class: \"table\"\n};\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"th\", {\n  width: \"100\"\n}, \"Email\", -1 /* HOISTED */);\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"th\", null, \"Name\", -1 /* HOISTED */);\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"th\", null, \"Phone\", -1 /* HOISTED */);\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"th\", null, \"Address\", -1 /* HOISTED */);\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"th\", null, \"Statement\", -1 /* HOISTED */);\nconst _hoisted_14 = {\n  key: 0\n};\nconst _hoisted_15 = {\n  key: 1,\n  class: \"text-success\"\n};\nconst _hoisted_16 = {\n  key: 0,\n  class: \"text-end\"\n};\nconst _hoisted_17 = /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"btn btn-danger\"\n}, \"Confirm\", -1 /* HOISTED */);\nconst _hoisted_18 = [_hoisted_17];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Loading = _resolveComponent(\"Loading\");\n  const _component_Navbar = _resolveComponent(\"Navbar\");\n  const _component_Stepsbar = _resolveComponent(\"Stepsbar\");\n  const _component_Footer = _resolveComponent(\"Footer\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_Loading, {\n    active: $data.isLoading\n  }, null, 8 /* PROPS */, [\"active\"]), _createVNode(_component_Navbar), _createVNode(_component_Stepsbar, {\n    class: \"my-4\",\n    title: $data.stepsTitle\n  }, null, 8 /* PROPS */, [\"title\"]), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"form\", {\n    class: \"col-md-6\",\n    onSubmit: _cache[0] || (_cache[0] = _withModifiers((...args) => $options.payOrder && $options.payOrder(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"table\", _hoisted_3, [_hoisted_4, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.order.products, item => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: item.id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(item.product.title), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(item.qty), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(item.product.unit), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_5, _toDisplayString(item.final_total), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"tfoot\", null, [_createElementVNode(\"tr\", null, [_hoisted_6, _createElementVNode(\"td\", _hoisted_7, _toDisplayString($data.order.total), 1 /* TEXT */)])])]), _createElementVNode(\"table\", _hoisted_8, [_createElementVNode(\"tbody\", null, [_createElementVNode(\"tr\", null, [_hoisted_9, _createElementVNode(\"td\", null, _toDisplayString($data.order.user.email), 1 /* TEXT */)]), _createElementVNode(\"tr\", null, [_hoisted_10, _createElementVNode(\"td\", null, _toDisplayString($data.order.user.name), 1 /* TEXT */)]), _createElementVNode(\"tr\", null, [_hoisted_11, _createElementVNode(\"td\", null, _toDisplayString($data.order.user.tel), 1 /* TEXT */)]), _createElementVNode(\"tr\", null, [_hoisted_12, _createElementVNode(\"td\", null, _toDisplayString($data.order.user.address), 1 /* TEXT */)]), _createElementVNode(\"tr\", null, [_hoisted_13, _createElementVNode(\"td\", null, [!$data.order.is_paid ? (_openBlock(), _createElementBlock(\"span\", _hoisted_14, \"Unpay\")) : (_openBlock(), _createElementBlock(\"span\", _hoisted_15, \"Paied\"))])])])]), $data.order.is_paid === false ? (_openBlock(), _createElementBlock(\"div\", _hoisted_16, [..._hoisted_18])) : _createCommentVNode(\"v-if\", true)], 32 /* NEED_HYDRATION */)])]), _createVNode(_component_Footer)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","style","_createElementVNode","colspan","width","_hoisted_17","_createVNode","_component_Loading","active","$data","isLoading","_component_Navbar","_component_Stepsbar","title","stepsTitle","_hoisted_1","_hoisted_2","onSubmit","_cache","_withModifiers","args","$options","payOrder","_hoisted_3","_hoisted_4","_createElementBlock","_Fragment","_renderList","order","products","item","key","id","_toDisplayString","product","qty","unit","_hoisted_5","final_total","_hoisted_6","_hoisted_7","total","_hoisted_8","_hoisted_9","user","email","_hoisted_10","name","_hoisted_11","tel","_hoisted_12","address","_hoisted_13","is_paid","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_18","_component_Footer"],"sources":["C:\\Users\\augus\\OneDrive\\桌面\\暫存區\\vue-practice\\brite\\src\\views\\front\\CheckOut.vue"],"sourcesContent":["<!-- 訂單id: -Np3hfAFqIzpTsXXL1T7 -->\n<template>\n  <Loading :active=\"isLoading\"></Loading>\n  <Navbar></Navbar>\n  <Stepsbar class=\"my-4\" :title=\"stepsTitle\"></Stepsbar>\n  <div class=\"container\">\n    <div class=\"my-5 row justify-content-center\" style=\"min-height: 75vh\">\n      <form class=\"col-md-6\" @submit.prevent=\"payOrder\">\n        <table class=\"table align-middle\">\n          <thead>\n          <tr class=\"text-center\">\n            <th>Product</th>\n            <th>Quantity</th>\n            <th>Color</th>\n            <th>Price</th>\n          </tr>\n          </thead>\n          <tbody>\n          <tr v-for=\"item in order.products\" :key=\"item.id\">\n            <td>{{ item.product.title }}</td>\n            <td>{{ item.qty }}</td>\n            <td>{{ item.product.unit }}</td>\n            <td class=\"text-end\">{{ item.final_total }}</td>\n          </tr>\n          </tbody>\n          <tfoot>\n          <tr>\n            <td colspan=\"2\" class=\"text-end\">Total</td>\n            <td class=\"text-end\">{{ order.total }}</td>\n          </tr>\n          </tfoot>\n        </table>\n        <table class=\"table\">\n          <tbody>\n          <tr>\n            <th width=\"100\">Email</th>\n            <td>{{ order.user.email }}</td>\n          </tr>\n          <tr>\n            <th>Name</th>\n            <td>{{ order.user.name }}</td>\n          </tr>\n          <tr>\n            <th>Phone</th>\n            <td>{{ order.user.tel }}</td>\n          </tr>\n          <tr>\n            <th>Address</th>\n            <td>{{ order.user.address }}</td>\n          </tr>\n          <tr>\n            <th>Statement</th>\n            <td>\n              <span v-if=\"!order.is_paid\">Unpay</span>\n              <span v-else class=\"text-success\">Paied</span>\n            </td>\n          </tr>\n          </tbody>\n        </table>\n        <div class=\"text-end\" v-if=\"order.is_paid === false\">\n          <button class=\"btn btn-danger\">Confirm</button>\n        </div>\n      </form>\n    </div>\n  </div>\n  <Footer></Footer>\n</template>\n\n<script>\nimport Navbar from '@/components/Navbar.vue';\nimport Footer from '@/components/Footer.vue';\nimport Stepsbar from '@/components/StepsBar.vue';\n\nexport default {\n  components: {\n    Navbar,\n    Footer,\n    Stepsbar,\n  },\n  data() {\n    return {\n      stepsTitle: 'Checkout',\n      order: {\n        user: {},\n      },\n      orderId: '',\n      isLoading: false,\n    };\n  },\n  methods: {\n    getOrder() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order/${this.orderId}`;\n      this.$http.get(url)\n        .then((res) => {\n          if (res.data.success) {\n            this.order = res.data.order;\n            console.log(this.order);\n          }\n        });\n    },\n    payOrder() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/pay/${this.orderId}`;\n      this.$http.post(url)\n        .then((res) => {\n          console.log(res);\n          if (res.data.success) {\n            this.getOrder();\n          }\n        });\n    },\n  },\n  created() {\n    this.orderId = this.$route.params.orderId;\n    console.log(this.orderId);\n    this.getOrder();\n  },\n};\n</script>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}