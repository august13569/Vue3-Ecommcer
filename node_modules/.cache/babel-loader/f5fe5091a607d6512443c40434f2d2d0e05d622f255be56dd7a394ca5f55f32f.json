{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = {\n  class: \"my-5 row justify-content-center\"\n};\nconst _hoisted_3 = {\n  class: \"table align-middle\"\n};\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"品名\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"數量\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"單價\")], -1 /* HOISTED */);\nconst _hoisted_5 = {\n  class: \"text-end\"\n};\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"td\", {\n  colspan: \"2\",\n  class: \"text-end\"\n}, \"總計\", -1 /* HOISTED */);\nconst _hoisted_7 = {\n  class: \"text-end\"\n};\nconst _hoisted_8 = {\n  class: \"table\"\n};\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"th\", {\n  width: \"100\"\n}, \"Email\", -1 /* HOISTED */);\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"th\", null, \"姓名\", -1 /* HOISTED */);\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"th\", null, \"收件人電話\", -1 /* HOISTED */);\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"th\", null, \"收件人地址\", -1 /* HOISTED */);\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"th\", null, \"付款狀態\", -1 /* HOISTED */);\nconst _hoisted_14 = {\n  key: 0\n};\nconst _hoisted_15 = {\n  key: 1,\n  class: \"text-success\"\n};\nconst _hoisted_16 = {\n  key: 0,\n  class: \"text-end\"\n};\nconst _hoisted_17 = /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"btn btn-danger\"\n}, \"確認付款去\", -1 /* HOISTED */);\nconst _hoisted_18 = [_hoisted_17];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Loading = _resolveComponent(\"Loading\");\n  const _component_Navbar = _resolveComponent(\"Navbar\");\n  const _component_Stepsbar = _resolveComponent(\"Stepsbar\");\n  const _component_Footer = _resolveComponent(\"Footer\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_Loading, {\n    active: $data.isLoading\n  }, null, 8 /* PROPS */, [\"active\"]), _createVNode(_component_Navbar), _createVNode(_component_Stepsbar, {\n    title: $data.stepsTitle\n  }, null, 8 /* PROPS */, [\"title\"]), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"form\", {\n    class: \"col-md-6\",\n    onSubmit: _cache[0] || (_cache[0] = _withModifiers((...args) => $options.payOrder && $options.payOrder(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"table\", _hoisted_3, [_hoisted_4, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.order.products, item => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: item.id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(item.product.title), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(item.qty) + \"/\" + _toDisplayString(item.product.unit), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_5, _toDisplayString(item.final_total), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"tfoot\", null, [_createElementVNode(\"tr\", null, [_hoisted_6, _createElementVNode(\"td\", _hoisted_7, _toDisplayString($data.order.total), 1 /* TEXT */)])])]), _createElementVNode(\"table\", _hoisted_8, [_createElementVNode(\"tbody\", null, [_createElementVNode(\"tr\", null, [_hoisted_9, _createElementVNode(\"td\", null, _toDisplayString($data.order.user.email), 1 /* TEXT */)]), _createElementVNode(\"tr\", null, [_hoisted_10, _createElementVNode(\"td\", null, _toDisplayString($data.order.user.name), 1 /* TEXT */)]), _createElementVNode(\"tr\", null, [_hoisted_11, _createElementVNode(\"td\", null, _toDisplayString($data.order.user.tel), 1 /* TEXT */)]), _createElementVNode(\"tr\", null, [_hoisted_12, _createElementVNode(\"td\", null, _toDisplayString($data.order.user.address), 1 /* TEXT */)]), _createElementVNode(\"tr\", null, [_hoisted_13, _createElementVNode(\"td\", null, [!$data.order.is_paid ? (_openBlock(), _createElementBlock(\"span\", _hoisted_14, \"尚未付款\")) : (_openBlock(), _createElementBlock(\"span\", _hoisted_15, \"付款完成\"))])])])]), $data.order.is_paid === false ? (_openBlock(), _createElementBlock(\"div\", _hoisted_16, [..._hoisted_18])) : _createCommentVNode(\"v-if\", true)], 32 /* NEED_HYDRATION */)])]), _createVNode(_component_Footer)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","_createElementVNode","colspan","width","_hoisted_17","_createVNode","_component_Loading","active","$data","isLoading","_component_Navbar","_component_Stepsbar","title","stepsTitle","_hoisted_1","_hoisted_2","onSubmit","_cache","_withModifiers","args","$options","payOrder","_hoisted_3","_hoisted_4","_createElementBlock","_Fragment","_renderList","order","products","item","key","id","_toDisplayString","product","qty","unit","_hoisted_5","final_total","_hoisted_6","_hoisted_7","total","_hoisted_8","_hoisted_9","user","email","_hoisted_10","name","_hoisted_11","tel","_hoisted_12","address","_hoisted_13","is_paid","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_18","_component_Footer"],"sources":["C:\\Users\\augus\\OneDrive\\桌面\\暫存區\\vue-practice\\brite\\src\\views\\front\\CheckOut.vue"],"sourcesContent":["<!-- 訂單id: -Np3hfAFqIzpTsXXL1T7 -->\n<template>\n  <Loading :active=\"isLoading\"></Loading>\n  <Navbar></Navbar>\n  <Stepsbar :title=\"stepsTitle\"></Stepsbar>\n  <div class=\"container\">\n    <div class=\"my-5 row justify-content-center\">\n      <form class=\"col-md-6\" @submit.prevent=\"payOrder\">\n        <table class=\"table align-middle\">\n          <thead>\n          <th>品名</th>\n          <th>數量</th>\n          <th>單價</th>\n          </thead>\n          <tbody>\n          <tr v-for=\"item in order.products\" :key=\"item.id\">\n            <td>{{ item.product.title }}</td>\n            <td>{{ item.qty }}/{{ item.product.unit }}</td>\n            <td class=\"text-end\">{{ item.final_total }}</td>\n          </tr>\n          </tbody>\n          <tfoot>\n          <tr>\n            <td colspan=\"2\" class=\"text-end\">總計</td>\n            <td class=\"text-end\">{{ order.total }}</td>\n          </tr>\n          </tfoot>\n        </table>\n        <table class=\"table\">\n          <tbody>\n          <tr>\n            <th width=\"100\">Email</th>\n            <td>{{ order.user.email }}</td>\n          </tr>\n          <tr>\n            <th>姓名</th>\n            <td>{{ order.user.name }}</td>\n          </tr>\n          <tr>\n            <th>收件人電話</th>\n            <td>{{ order.user.tel }}</td>\n          </tr>\n          <tr>\n            <th>收件人地址</th>\n            <td>{{ order.user.address }}</td>\n          </tr>\n          <tr>\n            <th>付款狀態</th>\n            <td>\n              <span v-if=\"!order.is_paid\">尚未付款</span>\n              <span v-else class=\"text-success\">付款完成</span>\n            </td>\n          </tr>\n          </tbody>\n        </table>\n        <div class=\"text-end\" v-if=\"order.is_paid === false\">\n          <button class=\"btn btn-danger\">確認付款去</button>\n        </div>\n      </form>\n    </div>\n  </div>\n  <Footer></Footer>\n</template>\n\n<script>\nimport Navbar from '@/components/Navbar.vue';\nimport Footer from '@/components/Footer.vue';\nimport Stepsbar from '@/components/StepsBar.vue';\n\nexport default {\n  components: {\n    Navbar,\n    Footer,\n    Stepsbar,\n  },\n  data() {\n    return {\n      stepsTitle: 'Checkout',\n      order: {\n        user: {},\n      },\n      orderId: '',\n      isLoading: false,\n    };\n  },\n  methods: {\n    getOrder() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order/${this.orderId}`;\n      this.$http.get(url)\n        .then((res) => {\n          if (res.data.success) {\n            this.order = res.data.order;\n            console.log(this.order);\n          }\n        });\n    },\n    payOrder() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/pay/${this.orderId}`;\n      this.$http.post(url)\n        .then((res) => {\n          console.log(res);\n          if (res.data.success) {\n            this.getOrder();\n          }\n        });\n    },\n  },\n  created() {\n    this.orderId = this.$route.params.orderId;\n    console.log(this.orderId);\n    this.getOrder();\n  },\n};\n</script>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}