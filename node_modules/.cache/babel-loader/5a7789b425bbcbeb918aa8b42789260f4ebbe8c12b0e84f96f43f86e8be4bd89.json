{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, withModifiers as _withModifiers, normalizeClass as _normalizeClass, vShow as _vShow, withDirectives as _withDirectives, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"header\", {\n  class: \"header-2 d-flex align-items-center justify-content-center mb-5\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"text-white text-center w-100\",\n  style: {\n    \"background-image\": \"radial-gradient(circle, rgba(0, 0, 0, 0.5) 0%,\\n                                rgba(0, 0, 0, 0) 100%)\"\n  }\n}, [/*#__PURE__*/_createElementVNode(\"h2\", {\n  class: \"display-1\"\n}, \"Products\")])], -1);\nconst _hoisted_2 = {\n  class: \"container\"\n};\nconst _hoisted_3 = {\n  class: \"display-3\"\n};\nconst _hoisted_4 = {\n  class: \"sticky-top\",\n  style: {\n    \"top\": \"100px\"\n  }\n};\nconst _hoisted_5 = {\n  class: \"container mb-3\"\n};\nconst _hoisted_6 = {\n  class: \"position-relative d-md-none\"\n};\nconst _hoisted_7 = {\n  class: \"d-flex overflow-auto n-sbar\"\n};\nconst _hoisted_8 = [\"onClick\"];\nconst _hoisted_9 = {\n  class: \"link-light n-line\",\n  href: \"#\"\n};\nconst _hoisted_10 = {\n  class: \"container\"\n};\nconst _hoisted_11 = {\n  class: \"row\"\n};\nconst _hoisted_12 = {\n  class: \"col-md-3\"\n};\nconst _hoisted_13 = {\n  class: \"sticky-top\",\n  style: {\n    \"top\": \"140px\"\n  }\n};\nconst _hoisted_14 = {\n  class: \"list-group d-none d-md-block\"\n};\nconst _hoisted_15 = [\"onClick\"];\nconst _hoisted_16 = {\n  class: \"col-md-9\"\n};\nconst _hoisted_17 = {\n  class: \"d-flex flex-wrap\"\n};\nconst _hoisted_18 = [\"onClick\"];\nconst _hoisted_19 = [\"src\"];\nconst _hoisted_20 = {\n  class: \"card-body\"\n};\nconst _hoisted_21 = {\n  class: \"card-title text-dark\"\n};\nconst _hoisted_22 = {\n  class: \"card-text text-secondary\"\n};\nconst _hoisted_23 = {\n  class: \"d-flex justify-content-between\"\n};\nconst _hoisted_24 = {\n  class: \"card-text text-primary fs-4\"\n};\nconst _hoisted_25 = {\n  key: 0,\n  class: \"card-text text-secondary text-decoration-line-through pt-1\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Loading = _resolveComponent(\"Loading\");\n  const _component_Navbar = _resolveComponent(\"Navbar\");\n  const _component_Footer = _resolveComponent(\"Footer\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_Loading, {\n    active: $data.isLoading\n  }, null, 8, [\"active\"]), _createVNode(_component_Navbar, {\n    onSidebarStatus: $options.handleSidebarStatus\n  }, null, 8, [\"onSidebarStatus\"]), _hoisted_1, _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"h2\", _hoisted_3, _toDisplayString($data.selectedTitle === 'All' ? $data.selectedTitle + ' Products' : $data.selectedTitle + ' Lamps'), 1)]), _withDirectives(_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.productsCategory, (value, key) => {\n    return _openBlock(), _createElementBlock(\"span\", {\n      class: _normalizeClass([\"badge rounded-pill mx-1 p-2\", $data.selectedTitle === key ? 'bg-primary' : 'bg-secondary']),\n      key: key,\n      onClick: _withModifiers($event => $options.selectedCategory(key), [\"prevent\"])\n    }, [_createElementVNode(\"a\", _hoisted_9, _toDisplayString(key === 'All' ? key + ' Products' : key + ' Lamps') + \" (\" + _toDisplayString(value) + \") \", 1)], 10, _hoisted_8);\n  }), 128))])])])], 512), [[_vShow, !$data.isSidebarOpen]]), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, [_withDirectives(_createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"div\", _hoisted_14, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.productsCategory, (value, key) => {\n    return _openBlock(), _createElementBlock(\"a\", {\n      href: \"#\",\n      class: _normalizeClass([\"list-group-item list-group-item-action\", {\n        'active': $data.selectedTitle === key\n      }]),\n      key: key,\n      onClick: _withModifiers($event => $options.selectedCategory(key), [\"prevent\"])\n    }, _toDisplayString(key === 'All' ? key + ' Products' : key + ' Lamps') + \" (\" + _toDisplayString(value) + \") \", 11, _hoisted_15);\n  }), 128))])], 512), [[_vShow, !$data.isSidebarOpen]])]), _createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"div\", _hoisted_17, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.products, item => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"card border border-white h-border mx-auto m-ss-1\",\n      style: {\n        \"width\": \"14rem\"\n      },\n      key: item.id\n    }, [_createElementVNode(\"a\", {\n      class: \"n-line\",\n      href: \"#\",\n      onClick: _withModifiers($event => $options.intoProduct(item.id), [\"prevent\"])\n    }, [_createElementVNode(\"img\", {\n      src: `${item.imageUrl}`,\n      class: \"card-img-top\",\n      alt: \"...\"\n    }, null, 8, _hoisted_19), _createElementVNode(\"div\", _hoisted_20, [_createElementVNode(\"h5\", _hoisted_21, _toDisplayString(item.title), 1), _createElementVNode(\"p\", _hoisted_22, _toDisplayString(item.category), 1), _createElementVNode(\"div\", _hoisted_23, [_createElementVNode(\"p\", _hoisted_24, \"$\" + _toDisplayString(_ctx.$filters.currency(item.price)), 1), item.price !== item.origin_price ? (_openBlock(), _createElementBlock(\"p\", _hoisted_25, \" $\" + _toDisplayString(_ctx.$filters.currency(item.origin_price)), 1)) : _createCommentVNode(\"\", true)])])], 8, _hoisted_18)]);\n  }), 128))])])])]), _createVNode(_component_Footer)], 64);\n}","map":{"version":3,"names":["_createElementVNode","class","style","href","_createVNode","_component_Loading","active","$data","isLoading","_component_Navbar","onSidebarStatus","$options","handleSidebarStatus","_hoisted_1","_hoisted_2","_hoisted_3","_toDisplayString","selectedTitle","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_createElementBlock","_Fragment","_renderList","productsCategory","value","key","_normalizeClass","onClick","_withModifiers","$event","selectedCategory","_hoisted_9","isSidebarOpen","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","products","item","id","intoProduct","src","imageUrl","alt","_hoisted_20","_hoisted_21","title","_hoisted_22","category","_hoisted_23","_hoisted_24","_ctx","$filters","currency","price","origin_price","_hoisted_25","_component_Footer"],"sources":["C:\\Users\\augus\\OneDrive\\桌面\\暫存區\\vue-practice\\brite\\src\\views\\front\\Products.vue"],"sourcesContent":["<template>\n  <Loading :active=\"isLoading\"></Loading>\n  <Navbar @sidebar-status=\"handleSidebarStatus\"></Navbar>\n  <!-- Banner -->\n  <header class=\"header-2 d-flex align-items-center justify-content-center mb-5\">\n    <div class=\"text-white text-center w-100\"\n         style=\"background-image: radial-gradient(circle, rgba(0, 0, 0, 0.5) 0%,\n                                rgba(0, 0, 0, 0) 100%);\">\n      <h2 class=\"display-1\">Products</h2>\n    </div>\n  </header>\n  <!-- Title -->\n  <div class=\"container\">\n    <h2 class=\"display-3\">\n        {{ selectedTitle === 'All' ? selectedTitle + ' Products' : selectedTitle + ' Lamps'}}\n    </h2>\n  </div>\n  <!-- Category -->\n  <!-- Show on phone -->\n  <div class=\"sticky-top\" style=\"top: 100px;\" v-show=\"!isSidebarOpen\">\n    <div class=\"container mb-3\">\n      <div class=\"position-relative d-md-none\">\n          <div class=\"d-flex overflow-auto n-sbar\">\n            <span class=\"badge rounded-pill mx-1 p-2\"\n                 :class=\"selectedTitle === key ? 'bg-primary' : 'bg-secondary'\"\n                  v-for=\"(value, key) in productsCategory\" :key=\"key\"\n                  @click.prevent=selectedCategory(key)\n                  >\n              <a class=\"link-light n-line\" href=\"#\">\n                {{ key === 'All' ? key + ' Products' : key + ' Lamps'}} ({{ value }})\n              </a>\n            </span>\n          </div>\n        </div>\n    </div>\n  </div>\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col-md-3\">\n        <!-- Show on Tab or Above -->\n        <div class=\"sticky-top\" style=\"top: 140px;\" v-show=\"!isSidebarOpen\">\n          <div class=\"list-group d-none d-md-block\">\n            <a href=\"#\" class=\"list-group-item list-group-item-action\"\n               :class=\"{'active': selectedTitle === key}\"\n               v-for=\"(value, key) in productsCategory\" :key=\"key\"\n               @click.prevent=selectedCategory(key)\n               >\n               {{ key === 'All' ? key + ' Products' : key + ' Lamps'}} ({{ value }})\n            </a>\n          </div>\n        </div>\n      </div>\n      <!-- Product List -->\n      <div class=\"col-md-9\">\n        <div class=\"d-flex flex-wrap\">\n          <div class=\"card border border-white h-border mx-auto m-ss-1\"\n               style=\"width: 14rem;\"\n               v-for=\"item in products\" :key=\"item.id\"\n               >\n            <a class=\"n-line\" href=\"#\" @click.prevent=\"intoProduct(item.id)\">\n              <img :src=\"`${item.imageUrl}`\" class=\"card-img-top\" alt=\"...\">\n              <div class=\"card-body\">\n                <h5 class=\"card-title text-dark\">{{ item.title }}</h5>\n                <p class=\"card-text text-secondary\">{{ item.category }}</p>\n                <div class=\"d-flex justify-content-between\">\n                  <p class=\"card-text text-primary fs-4\">${{ $filters.currency(item.price) }}</p>\n                  <p class=\"card-text text-secondary text-decoration-line-through pt-1\"\n                     v-if=\"item.price !== item.origin_price\"\n                     >\n                    ${{ $filters.currency(item.origin_price) }}\n                  </p>\n                </div>\n              </div>\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <Footer></Footer>\n</template>\n\n<script>\nimport Navbar from '@/components/Navbar.vue';\nimport Footer from '@/components/Footer.vue';\n\nexport default {\n  components: {\n    Navbar,\n    Footer,\n  },\n  data() {\n    return {\n      isLoading: false,\n      allProducts: [],\n      products: [],\n      productsCategory: {},\n      selectedTitle: 'All',\n      isSidebarOpen: false,\n    };\n  },\n  methods: {\n    // 取得所有產品\n    getProducts() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;\n      this.isLoading = true;\n      this.$http.get(url)\n        .then((res) => {\n          this.products = res.data.products;\n          this.allProducts = [...this.products];\n          this.sumProductsCategory();\n          if (this.$route.query.data) {\n            this.selectedCategory(this.$route.query.data);\n          }\n          this.isLoading = false;\n        });\n    },\n    // 透過路由，進入被點擊的產品頁面\n    intoProduct(id) {\n      this.$router.push(`/products/${id}`);\n    },\n    // 匯集產品總類\n    sumProductsCategory() {\n      this.productsCategory = this.products.reduce((acc, product) => {\n        acc[product.category] = (acc[product.category] || 0) + 1;\n        return acc;\n      }, { All: 0 });\n      const total = Object.values(this.productsCategory).reduce((sum, count) => sum + count, 0);\n      this.productsCategory.All = total;\n    },\n    // 選取產品類別\n    selectedCategory(category) {\n      this.selectedTitle = `${category}`;\n      if (category === 'All') {\n        this.products = [...this.allProducts];\n      } else {\n        this.products = this.allProducts.filter((product) => product.category === category);\n      }\n    },\n    // 監聽Sidebar動態來隱藏目錄覽，避免目錄擋住Sidebar\n    handleSidebarStatus(status) {\n      this.isSidebarOpen = status;\n    },\n  },\n  created() {\n    this.getProducts();\n  },\n};\n</script>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}