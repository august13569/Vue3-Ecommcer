{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeStyle as _normalizeStyle, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = {\n  class: \"row\"\n};\nconst _hoisted_3 = {\n  class: \"col-8\"\n};\nconst _hoisted_4 = {\n  class: \"table align-middle\"\n};\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"圖片\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"商品名稱\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"價格\"), /*#__PURE__*/_createElementVNode(\"th\")])], -1 /* HOISTED */);\nconst _hoisted_6 = {\n  style: {\n    \"width\": \"200px\"\n  }\n};\nconst _hoisted_7 = {\n  href: \"#\",\n  class: \"text-dark\"\n};\nconst _hoisted_8 = {\n  key: 0,\n  class: \"h5\"\n};\nconst _hoisted_9 = {\n  key: 1,\n  class: \"h6\"\n};\nconst _hoisted_10 = {\n  key: 2,\n  class: \"h5\"\n};\nconst _hoisted_11 = {\n  class: \"btn-group btn-group-sm\"\n};\nconst _hoisted_12 = [\"onClick\"];\nconst _hoisted_13 = [\"disabled\", \"onClick\"];\nconst _hoisted_14 = {\n  key: 0,\n  class: \"spinner-grow text-danger spinner-grow-sm\",\n  role: \"status\"\n};\nconst _hoisted_15 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"visually-hidden\"\n}, \"Loading...\", -1 /* HOISTED */);\nconst _hoisted_16 = [_hoisted_15];\nconst _hoisted_17 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-4\"\n}, null, -1 /* HOISTED */);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Loading = _resolveComponent(\"Loading\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_Loading, {\n    active: $data.isLoading\n  }, null, 8 /* PROPS */, [\"active\"]), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"table\", _hoisted_4, [_hoisted_5, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.products, item => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: item.id\n    }, [_createElementVNode(\"td\", _hoisted_6, [_createElementVNode(\"div\", {\n      style: _normalizeStyle([{\n        \"height\": \"100px\",\n        \"background-size\": \"cover\",\n        \"background-position\": \"center\"\n      }, {\n        backgroundImage: `url(${item.imageUrl})`\n      }])\n    }, null, 4 /* STYLE */)]), _createElementVNode(\"td\", null, [_createElementVNode(\"a\", _hoisted_7, _toDisplayString(item.title), 1 /* TEXT */)]), _createElementVNode(\"td\", null, [!item.price ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, _toDisplayString(item.origin_price) + \" 元\", 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), item.price ? (_openBlock(), _createElementBlock(\"del\", _hoisted_9, \"原價 \" + _toDisplayString(item.origin_price) + \" 元\", 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), item.price ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, \"現在只要 \" + _toDisplayString(item.price) + \" 元\", 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"td\", null, [_createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"button\", {\n      type: \"button\",\n      class: \"btn btn-outline-secondary\",\n      onClick: $event => _ctx.getProduct(item.id)\n    }, \" 查看更多 \", 8 /* PROPS */, _hoisted_12), _createElementVNode(\"button\", {\n      type: \"button\",\n      class: \"btn btn-outline-danger\",\n      disabled: this.status.loadingItem === item.id,\n      onClick: $event => _ctx.addCart(item.id)\n    }, [this.status.loadingItem === item.id ? (_openBlock(), _createElementBlock(\"div\", _hoisted_14, [..._hoisted_16])) : _createCommentVNode(\"v-if\", true), _createTextVNode(\" 加到購物車 \")], 8 /* PROPS */, _hoisted_13)])])]);\n  }), 128 /* KEYED_FRAGMENT */))])])]), _hoisted_17])])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","_createElementVNode","style","href","role","_hoisted_15","_createVNode","_component_Loading","active","$data","isLoading","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_createElementBlock","_Fragment","_renderList","products","item","key","id","_hoisted_6","_normalizeStyle","backgroundImage","imageUrl","_hoisted_7","_toDisplayString","title","price","_hoisted_8","origin_price","_hoisted_9","_hoisted_10","_hoisted_11","type","onClick","$event","_ctx","getProduct","_hoisted_12","disabled","status","loadingItem","addCart","_hoisted_14","_hoisted_16","_hoisted_17"],"sources":["C:\\Users\\augus\\OneDrive\\桌面\\暫存區\\vue-practice\\brite\\src\\views\\front\\ShoppingCart.vue"],"sourcesContent":["<template>\n  <Loading :active=\"isLoading\"></Loading>\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col-8\">\n        <table class=\"table align-middle\">\n          <thead>\n          <tr>\n            <th>圖片</th>\n            <th>商品名稱</th>\n            <th>價格</th>\n            <th></th>\n          </tr>\n          </thead>\n          <tbody>\n          <tr v-for=\"item in products\" :key=\"item.id\">\n            <td style=\"width: 200px\">\n              <div style=\"height: 100px; background-size: cover; background-position: center\"\n                   :style=\"{backgroundImage: `url(${item.imageUrl})`}\"></div>\n            </td>\n            <td><a href=\"#\" class=\"text-dark\">{{ item.title }}</a></td>\n            <td>\n              <div class=\"h5\" v-if=\"!item.price\">{{ item.origin_price }} 元</div>\n              <del class=\"h6\" v-if=\"item.price\">原價 {{ item.origin_price }} 元</del>\n              <div class=\"h5\" v-if=\"item.price\">現在只要 {{ item.price }} 元</div>\n            </td>\n            <td>\n              <div class=\"btn-group btn-group-sm\">\n                <button type=\"button\" class=\"btn btn-outline-secondary\"\n                        @click=\"getProduct(item.id)\">\n                  查看更多\n                </button>\n                <button type=\"button\" class=\"btn btn-outline-danger\"\n                        :disabled=\"this.status.loadingItem === item.id\"\n                        @click=\"addCart(item.id)\">\n                  <div v-if=\"this.status.loadingItem === item.id\"\n                       class=\"spinner-grow text-danger spinner-grow-sm\" role=\"status\">\n                    <span class=\"visually-hidden\">Loading...</span>\n                  </div>\n                  加到購物車\n                </button>\n              </div>\n            </td>\n          </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class=\"col-4\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      products: [],\n      isLoading: false,\n      status: {\n        loadingItem: '',\n      },\n    };\n  },\n  methods: {\n    getProducts() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;\n      this.isLoading = true;\n      this.$http.get(url).then((res) => {\n        this.products = res.data.products;\n        console.log('products:', res);\n        this.isLoading = false;\n      });\n    },\n  },\n  created() {\n    this.getProducts();\n  },\n};\n</script>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}