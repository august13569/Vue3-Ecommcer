{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"container\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"row\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-lg-8 offset-lg-2 col-10 offset-1\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"position-relative\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"d-flex justify-content-between\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"d-flex flex-column w-25 align-items-center\"\n}, [/*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"bi bi-check-circle-fill fs-2 text-primary bg-white\"\n}), /*#__PURE__*/_createElementVNode(\"span\", null, \"Cart\")]), /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"d-flex flex-column w-25 align-items-center\"\n}, [/*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"bi bi-check-circle-fill fs-2 text-primary bg-white\"\n}), /*#__PURE__*/_createElementVNode(\"span\", null, \"Order\")]), /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"d-flex flex-column w-25 align-items-center\"\n}, [/*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"bi bi-3-circle fs-2 text-primary bg-white\"\n}), /*#__PURE__*/_createElementVNode(\"span\", null, \"Checkout\")])]), /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"progress position-absolute translate-middle w-75\",\n  style: {\n    \"z-index\": \"-1\",\n    \"height\": \"0.125rem\",\n    \"top\": \"33%\",\n    \"left\": \"50%\"\n  }\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"progress-bar\",\n  role: \"progressbar\",\n  style: {\n    \"width\": \"100%\"\n  },\n  \"aria-valuenow\": \"100\",\n  \"aria-valuemin\": \"0\",\n  \"aria-valuemax\": \"100\"\n})])])])])], -1 /* HOISTED */);\nconst _hoisted_2 = {\n  class: \"container\"\n};\nconst _hoisted_3 = {\n  class: \"my-5 row justify-content-center\"\n};\nconst _hoisted_4 = {\n  class: \"table align-middle\"\n};\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"品名\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"數量\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"單價\")], -1 /* HOISTED */);\nconst _hoisted_6 = {\n  class: \"text-end\"\n};\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"td\", {\n  colspan: \"2\",\n  class: \"text-end\"\n}, \"總計\", -1 /* HOISTED */);\nconst _hoisted_8 = {\n  class: \"text-end\"\n};\nconst _hoisted_9 = {\n  class: \"table\"\n};\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"th\", {\n  width: \"100\"\n}, \"Email\", -1 /* HOISTED */);\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"th\", null, \"姓名\", -1 /* HOISTED */);\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"th\", null, \"收件人電話\", -1 /* HOISTED */);\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"th\", null, \"收件人地址\", -1 /* HOISTED */);\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"th\", null, \"付款狀態\", -1 /* HOISTED */);\nconst _hoisted_15 = {\n  key: 0\n};\nconst _hoisted_16 = {\n  key: 1,\n  class: \"text-success\"\n};\nconst _hoisted_17 = {\n  key: 0,\n  class: \"text-end\"\n};\nconst _hoisted_18 = /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"btn btn-danger\"\n}, \"確認付款去\", -1 /* HOISTED */);\nconst _hoisted_19 = [_hoisted_18];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Loading = _resolveComponent(\"Loading\");\n  const _component_Navbar = _resolveComponent(\"Navbar\");\n  const _component_Footer = _resolveComponent(\"Footer\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_Loading, {\n    active: $data.isLoading\n  }, null, 8 /* PROPS */, [\"active\"]), _createVNode(_component_Navbar), _createCommentVNode(\" Steps bar \"), _hoisted_1, _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"form\", {\n    class: \"col-md-6\",\n    onSubmit: _cache[0] || (_cache[0] = _withModifiers((...args) => $options.payOrder && $options.payOrder(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"table\", _hoisted_4, [_hoisted_5, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.order.products, item => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: item.id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(item.product.title), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(item.qty) + \"/\" + _toDisplayString(item.product.unit), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_6, _toDisplayString(item.final_total), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"tfoot\", null, [_createElementVNode(\"tr\", null, [_hoisted_7, _createElementVNode(\"td\", _hoisted_8, _toDisplayString($data.order.total), 1 /* TEXT */)])])]), _createElementVNode(\"table\", _hoisted_9, [_createElementVNode(\"tbody\", null, [_createElementVNode(\"tr\", null, [_hoisted_10, _createElementVNode(\"td\", null, _toDisplayString($data.order.user.email), 1 /* TEXT */)]), _createElementVNode(\"tr\", null, [_hoisted_11, _createElementVNode(\"td\", null, _toDisplayString($data.order.user.name), 1 /* TEXT */)]), _createElementVNode(\"tr\", null, [_hoisted_12, _createElementVNode(\"td\", null, _toDisplayString($data.order.user.tel), 1 /* TEXT */)]), _createElementVNode(\"tr\", null, [_hoisted_13, _createElementVNode(\"td\", null, _toDisplayString($data.order.user.address), 1 /* TEXT */)]), _createElementVNode(\"tr\", null, [_hoisted_14, _createElementVNode(\"td\", null, [!$data.order.is_paid ? (_openBlock(), _createElementBlock(\"span\", _hoisted_15, \"尚未付款\")) : (_openBlock(), _createElementBlock(\"span\", _hoisted_16, \"付款完成\"))])])])]), $data.order.is_paid === false ? (_openBlock(), _createElementBlock(\"div\", _hoisted_17, [..._hoisted_19])) : _createCommentVNode(\"v-if\", true)], 32 /* NEED_HYDRATION */)])]), _createVNode(_component_Footer)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_createElementVNode","class","style","role","colspan","width","_hoisted_18","_createVNode","_component_Loading","active","$data","isLoading","_component_Navbar","_createCommentVNode","_hoisted_1","_hoisted_2","_hoisted_3","onSubmit","_cache","_withModifiers","args","$options","payOrder","_hoisted_4","_hoisted_5","_createElementBlock","_Fragment","_renderList","order","products","item","key","id","_toDisplayString","product","title","qty","unit","_hoisted_6","final_total","_hoisted_7","_hoisted_8","total","_hoisted_9","_hoisted_10","user","email","_hoisted_11","name","_hoisted_12","tel","_hoisted_13","address","_hoisted_14","is_paid","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_19","_component_Footer"],"sources":["C:\\Users\\augus\\OneDrive\\桌面\\暫存區\\vue-practice\\brite\\src\\views\\front\\CheckOut.vue"],"sourcesContent":["<!-- 訂單id: -Np3hfAFqIzpTsXXL1T7 -->\n<template>\n  <Loading :active=\"isLoading\"></Loading>\n  <Navbar></Navbar>\n  <!-- Steps bar -->\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col-lg-8 offset-lg-2 col-10 offset-1\">\n        <div class=\"position-relative\">\n          <div class=\"d-flex justify-content-between\">\n            <div class=\"d-flex flex-column w-25 align-items-center\">\n              <i class=\"bi bi-check-circle-fill fs-2 text-primary bg-white\"></i>\n              <span>Cart</span>\n            </div>\n            <div class=\"d-flex flex-column w-25 align-items-center\">\n              <i class=\"bi bi-check-circle-fill fs-2 text-primary bg-white\"></i>\n              <span>Order</span>\n            </div>\n            <div class=\"d-flex flex-column w-25 align-items-center\">\n              <i class=\"bi bi-3-circle fs-2 text-primary bg-white\"></i>\n              <span>Checkout</span>\n            </div>\n          </div>\n          <div class=\"progress position-absolute translate-middle w-75\"\n               style=\"z-index: -1; height: 0.125rem; top: 33%; left: 50%;\">\n          <div class=\"progress-bar\"\n               role=\"progressbar\"\n               style=\"width: 100%;\"\n               aria-valuenow=\"100\"\n               aria-valuemin=\"0\"\n               aria-valuemax=\"100\"\n               ></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"container\">\n    <div class=\"my-5 row justify-content-center\">\n      <form class=\"col-md-6\" @submit.prevent=\"payOrder\">\n        <table class=\"table align-middle\">\n          <thead>\n          <th>品名</th>\n          <th>數量</th>\n          <th>單價</th>\n          </thead>\n          <tbody>\n          <tr v-for=\"item in order.products\" :key=\"item.id\">\n            <td>{{ item.product.title }}</td>\n            <td>{{ item.qty }}/{{ item.product.unit }}</td>\n            <td class=\"text-end\">{{ item.final_total }}</td>\n          </tr>\n          </tbody>\n          <tfoot>\n          <tr>\n            <td colspan=\"2\" class=\"text-end\">總計</td>\n            <td class=\"text-end\">{{ order.total }}</td>\n          </tr>\n          </tfoot>\n        </table>\n        <table class=\"table\">\n          <tbody>\n          <tr>\n            <th width=\"100\">Email</th>\n            <td>{{ order.user.email }}</td>\n          </tr>\n          <tr>\n            <th>姓名</th>\n            <td>{{ order.user.name }}</td>\n          </tr>\n          <tr>\n            <th>收件人電話</th>\n            <td>{{ order.user.tel }}</td>\n          </tr>\n          <tr>\n            <th>收件人地址</th>\n            <td>{{ order.user.address }}</td>\n          </tr>\n          <tr>\n            <th>付款狀態</th>\n            <td>\n              <span v-if=\"!order.is_paid\">尚未付款</span>\n              <span v-else class=\"text-success\">付款完成</span>\n            </td>\n          </tr>\n          </tbody>\n        </table>\n        <div class=\"text-end\" v-if=\"order.is_paid === false\">\n          <button class=\"btn btn-danger\">確認付款去</button>\n        </div>\n      </form>\n    </div>\n  </div>\n  <Footer></Footer>\n</template>\n\n<script>\nimport Navbar from '@/components/Navbar.vue';\nimport Footer from '@/components/Footer.vue';\n\nexport default {\n  components: {\n    Navbar,\n    Footer,\n  },\n  data() {\n    return {\n      order: {\n        user: {},\n      },\n      orderId: '',\n      isLoading: false,\n    };\n  },\n  methods: {\n    getOrder() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order/${this.orderId}`;\n      this.$http.get(url)\n        .then((res) => {\n          if (res.data.success) {\n            this.order = res.data.order;\n            console.log(this.order);\n          }\n        });\n    },\n    payOrder() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/pay/${this.orderId}`;\n      this.$http.post(url)\n        .then((res) => {\n          console.log(res);\n          if (res.data.success) {\n            this.getOrder();\n          }\n        });\n    },\n  },\n  created() {\n    this.orderId = this.$route.params.orderId;\n    console.log(this.orderId);\n    this.getOrder();\n  },\n};\n</script>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}