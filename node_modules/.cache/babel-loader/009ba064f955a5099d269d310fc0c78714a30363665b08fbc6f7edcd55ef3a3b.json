{"ast":null,"code":"import Navbar from '@/components/Navbar.vue';\nimport Footer from '@/components/Footer.vue';\nexport default {\n  components: {\n    Navbar,\n    Footer\n  },\n  data() {\n    return {\n      product: {},\n      id: '',\n      quantity: 0,\n      parentAllProducts: [],\n      isLoading: false\n    };\n  },\n  methods: {\n    getProduct() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/product/${this.id}`;\n      this.isLoading = true;\n      this.$http.get(api).then(res => {\n        this.isLoading = false;\n        if (res.data.success) {\n          this.product = res.data.product;\n        }\n      });\n    },\n    updateQuantity(action) {\n      if (action === 'plus' && this.quantity < this.product.is_enabled) {\n        this.quantity += 1;\n      } else if (action === 'minus' && this.quantity > 0) {\n        this.quantity -= 1;\n      }\n    }\n  },\n  created() {\n    this.id = this.$route.params.productId;\n    this.getProduct();\n    this.$eventBus.on('allProducts', allProducts => {\n      this.parentAllProducts = allProducts;\n      console.log(this.parentAllProducts);\n    });\n  }\n};","map":{"version":3,"names":["Navbar","Footer","components","data","product","id","quantity","parentAllProducts","isLoading","methods","getProduct","api","process","env","VUE_APP_API","VUE_APP_PATH","$http","get","then","res","success","updateQuantity","action","is_enabled","created","$route","params","productId","$eventBus","on","allProducts","console","log"],"sources":["C:\\Users\\augus\\OneDrive\\桌面\\暫存區\\vue-practice\\brite\\src\\views\\front\\TheProduct.vue"],"sourcesContent":["<template>\n  <Loading :active=\"isLoading\"></Loading>\n  <Navbar></Navbar>\n  <div class=\"container\">\n    <!-- The product information -->\n    <div class=\"row\">\n      <div class=\"col-md-6\">\n        <img :src=\"product.imageUrl\" alt=\"\" class=\"w-100 h-100\">\n      </div>\n      <div class=\"col-md-6 d-flex flex-column justify-content-center\">\n        <h2>{{ product.title }}</h2>\n        <ul>\n          <li>Type: {{ product.category }}</li>\n          <li>Available: {{ product.is_enabled }}</li>\n          <li>Color: {{ product.unit }}</li>\n        </ul>\n        <div class=\"d-flex\">\n          <p class=\"text-primary fs-3 px-1\">${{ $filters.currency(product.price) }}</p>\n          <p class=\"text-secondary text-decoration-line-through fs-5 px-1 pt-md-2\">\n            ${{ $filters.currency(product.origin_price) }}\n          </p>\n        </div>\n        <span class=\"text-danger\" v-if=\"this.quantity === this.product.is_enabled\">\n          You've reached the maximum quantity available for this item\n        </span>\n        <div>\n          <label for=\"buyqant\">Quantity:</label>\n          <button class=\"btn\" @click.prevent=\"updateQuantity('minus')\">\n            <i class=\"bi bi-dash-circle-fill link-primary fs-4\"></i>\n          </button>\n          <input class=\"q-input\"\n                 type=\"number\"\n                 name=\"buyqant\"\n                 id=\"buyqant\"\n                 value=\"0\"\n                 min=\"0\"\n                 v-model.number=\"quantity\"\n                 >\n          <button class=\"btn\" @click.prevent=\"updateQuantity('plus')\">\n            <i class=\"bi bi-plus-circle-fill link-primary fs-4\"></i>\n          </button>\n        </div>\n        <div>\n          <button type=\"button\" class=\"btn btn-outline-primary\">Buy</button>\n          <button type=\"button\" class=\"btn btn-outline-danger\">Add to Cart</button>\n        </div>\n      </div>\n      <!-- The product introduction -->\n      <div class=\"col-12\">\n        <ul class=\"nav nav-underline mb-3\" id=\"pills-tab\" role=\"tablist\">\n          <li class=\"nav-item\" role=\"presentation\">\n            <button class=\"nav-link active\"\n                    id=\"pills-home-tab\"\n                    data-bs-toggle=\"pill\"\n                    data-bs-target=\"#pills-home\"\n                    type=\"button\"\n                    role=\"tab\"\n                    aria-controls=\"pills-home\"\n                    aria-selected=\"true\"\n                    >\n                    Home</button>\n          </li>\n          <li class=\"nav-item\" role=\"presentation\">\n            <button class=\"nav-link\"\n                    id=\"pills-profile-tab\"\n                    data-bs-toggle=\"pill\"\n                    data-bs-target=\"#pills-profile\"\n                    type=\"button\"\n                    role=\"tab\"\n                    aria-controls=\"pills-profile\"\n                    aria-selected=\"false\"\n                    >\n                    Profile</button>\n          </li>\n          <li class=\"nav-item\" role=\"presentation\">\n            <button class=\"nav-link\"\n                    id=\"pills-contact-tab\"\n                    data-bs-toggle=\"pill\"\n                    data-bs-target=\"#pills-contact\"\n                    type=\"button\"\n                    role=\"tab\"\n                    aria-controls=\"pills-contact\"\n                    aria-selected=\"false\"\n                    >\n                    Contact</button>\n          </li>\n        </ul>\n        <div class=\"tab-content\" id=\"pills-tabContent\">\n          <div class=\"tab-pane fade show text-secondary active\"\n               id=\"pills-home\"\n               role=\"tabpanel\"\n               aria-labelledby=\"pills-home-tab\"\n               tabindex=\"0\"\n               >\n               Lorem ipsum dolor sit amet consectetur adipisicing elit. Tenetur cupiditate\n                necessitatibus voluptatibus odio molestias quis, porro minus corrupti,\n                quibusdam dolore praesentium reiciendis fugiat eius voluptas delectus\n                  adipisci vel tempore vero.\n                </div>\n          <div class=\"tab-pane fade text-secondary\"\n               id=\"pills-profile\"\n               role=\"tabpanel\"\n               aria-labelledby=\"pills-profile-tab\"\n               tabindex=\"0\"\n               >\n               Lorem ipsum dolor sit amet consectetur adipisicing elit. Tenetur cupiditate\n                necessitatibus voluptatibus odio molestias quis, porro minus corrupti,\n                quibusdam dolore praesentium reiciendis fugiat eius voluptas delectus\n                  adipisci vel tempore vero.\n                </div>\n          <div class=\"tab-pane fade text-secondary\"\n               id=\"pills-contact\"\n               role=\"tabpanel\"\n               aria-labelledby=\"pills-contact-tab\"\n               tabindex=\"0\"\n               >\n               Lorem ipsum dolor sit amet consectetur adipisicing elit. Tenetur cupiditate\n                necessitatibus voluptatibus odio molestias quis, porro minus corrupti,\n                quibusdam dolore praesentium reiciendis fugiat eius voluptas delectus\n                  adipisci vel tempore vero.\n                </div>\n        </div>\n      </div>\n      <!-- Related Products -->\n      <section>\n      <div class=\"col-12\">\n        <h3 class=\"display-3\">Related Products</h3>\n        <div class=\"position-relative\">\n          <div class=\"row flex-nowrap overflow-auto\">\n            <div class=\"card border-0 mx-auto m-md-1\" style=\"width: 18rem;\"\n                 v-for=\"item in parentAllProducts\" :key=\"item.id\"\n                 >\n              <a class=\"n-line\" href=\"#\">\n                <img :src=\"`${item.imageUrl}`\" class=\"card-img-top\" alt=\"...\">\n                <div class=\"card-body\">\n                  <h5 class=\"card-title text-dark\">{{ item.title }}</h5>\n                  <p class=\"card-text text-secondary\">{{ item.category }}</p>\n                  <div class=\"d-flex justify-content-between\">\n                    <p class=\"card-text text-primary fs-4\">\n                      ${{ $filters.currency(item.price) }}\n                    </p>\n                    <p class=\"card-text text-secondary text-decoration-line-through pt-1\">\n                      ${{ $filters.currency(item.origin_price) }}\n                    </p>\n                  </div>\n                </div>\n              </a>\n            </div>\n          </div>\n          <!-- 在瀏覽器的手機板中，畫面會出現橫軸。由於按鈕的突出而造成的 -->\n          <!-- IKEA的橫向產品列表是縮小到一個程度後讓按鈕消失 -->\n          <!-- 最好的方法應該是用hovor的方式，因為手機上沒有滑鼠，而小螢幕時又可以顯示 -->\n          <div class=\"position-absolute top-50 start-0 translate-middle\" style=\"z-index: 1;\">\n            <button class=\"btn\" type=\"button\">\n              <span class=\"bi bi-arrow-left-circle-fill display-5\"></span>\n              <span class=\"visually-hidden\">Previous</span>\n            </button>\n          </div>\n          <div class=\"position-absolute top-50 start-100 translate-middle\" style=\"z-index: 1;\">\n            <button class=\"btn\" type=\"button\">\n              <span class=\"bi bi-arrow-right-circle-fill display-5\"></span>\n              <span class=\"visually-hidden\">Next</span>\n            </button>\n          </div>\n        </div>\n      </div>\n      </section>\n    </div>\n  </div>\n  <Footer></Footer>\n</template>\n\n<script>\nimport Navbar from '@/components/Navbar.vue';\nimport Footer from '@/components/Footer.vue';\n\nexport default {\n  components: {\n    Navbar,\n    Footer,\n  },\n  data() {\n    return {\n      product: {},\n      id: '',\n      quantity: 0,\n      parentAllProducts: [],\n      isLoading: false,\n    };\n  },\n  methods: {\n    getProduct() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/product/${this.id}`;\n      this.isLoading = true;\n      this.$http.get(api).then((res) => {\n        this.isLoading = false;\n        if (res.data.success) {\n          this.product = res.data.product;\n        }\n      });\n    },\n    updateQuantity(action) {\n      if (action === 'plus' && this.quantity < this.product.is_enabled) {\n        this.quantity += 1;\n      } else if (action === 'minus' && this.quantity > 0) {\n        this.quantity -= 1;\n      }\n    },\n  },\n  created() {\n    this.id = this.$route.params.productId;\n    this.getProduct();\n    this.$eventBus.on('allProducts', (allProducts) => {\n      this.parentAllProducts = allProducts;\n      console.log(this.parentAllProducts);\n    });\n  },\n};\n</script>\n"],"mappings":"AA6KA,OAAOA,MAAK,MAAO,yBAAyB;AAC5C,OAAOC,MAAK,MAAO,yBAAyB;AAE5C,eAAe;EACbC,UAAU,EAAE;IACVF,MAAM;IACNC;EACF,CAAC;EACDE,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,OAAO,EAAE,CAAC,CAAC;MACXC,EAAE,EAAE,EAAE;MACNC,QAAQ,EAAE,CAAC;MACXC,iBAAiB,EAAE,EAAE;MACrBC,SAAS,EAAE;IACb,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,UAAUA,CAAA,EAAG;MACX,MAAMC,GAAE,GAAK,GAAEC,OAAO,CAACC,GAAG,CAACC,WAAY,OAAMF,OAAO,CAACC,GAAG,CAACE,YAAa,YAAW,IAAI,CAACV,EAAG,EAAC;MAC1F,IAAI,CAACG,SAAQ,GAAI,IAAI;MACrB,IAAI,CAACQ,KAAK,CAACC,GAAG,CAACN,GAAG,CAAC,CAACO,IAAI,CAAEC,GAAG,IAAK;QAChC,IAAI,CAACX,SAAQ,GAAI,KAAK;QACtB,IAAIW,GAAG,CAAChB,IAAI,CAACiB,OAAO,EAAE;UACpB,IAAI,CAAChB,OAAM,GAAIe,GAAG,CAAChB,IAAI,CAACC,OAAO;QACjC;MACF,CAAC,CAAC;IACJ,CAAC;IACDiB,cAAcA,CAACC,MAAM,EAAE;MACrB,IAAIA,MAAK,KAAM,MAAK,IAAK,IAAI,CAAChB,QAAO,GAAI,IAAI,CAACF,OAAO,CAACmB,UAAU,EAAE;QAChE,IAAI,CAACjB,QAAO,IAAK,CAAC;MACpB,OAAO,IAAIgB,MAAK,KAAM,OAAM,IAAK,IAAI,CAAChB,QAAO,GAAI,CAAC,EAAE;QAClD,IAAI,CAACA,QAAO,IAAK,CAAC;MACpB;IACF;EACF,CAAC;EACDkB,OAAOA,CAAA,EAAG;IACR,IAAI,CAACnB,EAAC,GAAI,IAAI,CAACoB,MAAM,CAACC,MAAM,CAACC,SAAS;IACtC,IAAI,CAACjB,UAAU,CAAC,CAAC;IACjB,IAAI,CAACkB,SAAS,CAACC,EAAE,CAAC,aAAa,EAAGC,WAAW,IAAK;MAChD,IAAI,CAACvB,iBAAgB,GAAIuB,WAAW;MACpCC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACzB,iBAAiB,CAAC;IACrC,CAAC,CAAC;EACJ;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}