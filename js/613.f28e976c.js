"use strict";(self["webpackChunkbrite"]=self["webpackChunkbrite"]||[]).push([[613],{4823:function(t,e,s){s.d(e,{Z:function(){return m}});var a=s(6252);const i={class:"modal fade",id:"deleteModal",tabindex:"-1","aria-labelledby":"deleteModalLabel","aria-hidden":"true"},l={class:"modal-dialog"},n={class:"modal-content"},r=(0,a._)("div",{class:"modal-header"},[(0,a._)("h5",{class:"modal-title",id:"deleteModalLabel"},"Delete Item"),(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),o=(0,a._)("div",{class:"modal-body"}," Do you want to delete the item? ",-1),c={class:"modal-footer"},d=(0,a._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel",-1);function u(t,e,s,u,p,b){return(0,a.wg)(),(0,a.iD)("div",i,[(0,a._)("div",l,[(0,a._)("div",n,[r,o,(0,a._)("div",c,[d,(0,a._)("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",onClick:e[0]||(e[0]=t=>b.confirmDelete())}," Delete ")])])])])}var p={methods:{confirmDelete(){this.$emit("delete-item")}}},b=s(3744);const h=(0,b.Z)(p,[["render",u]]);var m=h},6194:function(t,e,s){s.d(e,{Z:function(){return I}});var a=s(6252),i=s(9963),l=s(745);const n={class:"d-flex flex-column align-items-center py-3",style:{"background-color":"#343a40"}},r=(0,a._)("img",{src:l,alt:"BRITE",width:"200",height:"60"},null,-1),o={class:"list-group list-group-horizontal"},c={class:"list-group-item bg-transparent border-0"},d=(0,a._)("i",{class:"bi bi-youtube fs-5"},null,-1),u=[d],p={class:"list-group-item bg-transparent border-0"},b=(0,a._)("i",{class:"bi bi-twitter-x fs-5"},null,-1),h=[b],m={class:"list-group-item bg-transparent border-0"},g=(0,a._)("i",{class:"bi bi-facebook fs-5"},null,-1),f=[g],_={class:"list-group-item bg-transparent border-0"},y=(0,a._)("i",{class:"bi bi-instagram fs-5"},null,-1),v=[y],w=(0,a._)("p",{class:"text-primary text-center mb-0"},"Copyright © 此為專案練習，無商業用途。",-1),k=(0,a._)("p",{class:"text-primary text-center"},"by Fulton",-1);function x(t,e){return(0,a.wg)(),(0,a.iD)("footer",n,[r,(0,a._)("ul",o,[(0,a._)("li",c,[(0,a._)("a",{href:"#",onClick:e[0]||(e[0]=(0,i.iM)((()=>{}),["prevent"]))},u)]),(0,a._)("li",p,[(0,a._)("a",{href:"#",onClick:e[1]||(e[1]=(0,i.iM)((()=>{}),["prevent"]))},h)]),(0,a._)("li",m,[(0,a._)("a",{href:"#",onClick:e[2]||(e[2]=(0,i.iM)((()=>{}),["prevent"]))},f)]),(0,a._)("li",_,[(0,a._)("a",{href:"#",onClick:e[3]||(e[3]=(0,i.iM)((()=>{}),["prevent"]))},v)])]),w,k])}var C=s(3744);const $={},S=(0,C.Z)($,[["render",x]]);var I=S},1829:function(t,e,s){s.d(e,{Z:function(){return q}});var a=s(6252),i=s(3577),l=s(745);const n={class:"navbar navbar-expand-lg sticky-top bg-white shadow"},r={class:"container"},o=(0,a._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasNavbar","aria-controls":"offcanvasNavbar"},[(0,a._)("span",{class:"navbar-toggler-icon"})],-1),c=(0,a._)("h1",{class:"visually-hidden"},"BRITE",-1),d=(0,a._)("img",{class:"logo",src:l,alt:"BRITE"},null,-1),u={class:"offcanvas offcanvas-start",tabindex:"-1",id:"offcanvasNavbar","aria-labelledby":"offcanvasNavbarLabel","data-bs-dismiss":"offcanvas"},p=(0,a._)("div",{class:"offcanvas-header d-flex justify-content-end d-lg-none"},[(0,a._)("button",{class:"btn-close text-reset",type:"button","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1),b={class:"offcanvas-body"},h={class:"navbar-nav justify-content-center flex-grow-1 pe-3"},m={class:"nav-item px-2"},g={class:"nav-item px-2"},f={class:"nav-item px-2"},_={class:"nav-item px-2"},y={class:"d-flex"},v=(0,a._)("i",{class:"bi bi-person-fill text-secondary"},null,-1),w={class:"position-relative align-self-center"},k=(0,a._)("i",{class:"bi bi-bag-fill text-secondary"},null,-1),x={key:0,class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"},C=(0,a._)("span",{class:"visually-hidden"},"unread messages",-1);function $(t,e,s,l,$,S){const I=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("nav",n,[(0,a._)("div",r,[o,(0,a.Wm)(I,{to:"/",class:"navbar-brand"},{default:(0,a.w5)((()=>[c,d])),_:1}),(0,a._)("div",u,[p,(0,a._)("div",b,[(0,a._)("ul",h,[(0,a._)("li",m,[(0,a.Wm)(I,{to:"/about",class:"nav-link link-secondary"},{default:(0,a.w5)((()=>[(0,a.Uk)("About")])),_:1})]),(0,a._)("li",g,[(0,a.Wm)(I,{to:"/products",class:"nav-link link-secondary"},{default:(0,a.w5)((()=>[(0,a.Uk)("Products")])),_:1})]),(0,a._)("li",f,[(0,a.Wm)(I,{to:"/faq",class:"nav-link link-secondary"},{default:(0,a.w5)((()=>[(0,a.Uk)("FAQ")])),_:1})]),(0,a._)("li",_,[(0,a.Wm)(I,{to:"/contact",class:"nav-link link-secondary"},{default:(0,a.w5)((()=>[(0,a.Uk)("Contact")])),_:1})])])])]),(0,a._)("div",y,[(0,a.Wm)(I,{to:"/login",class:"fs-3 px-1"},{default:(0,a.w5)((()=>[v])),_:1}),(0,a._)("div",w,[(0,a.Wm)(I,{to:"/cart",class:"fs-5 px-1"},{default:(0,a.w5)((()=>[k])),_:1}),$.carts.length>0?((0,a.wg)(),(0,a.iD)("span",x,[(0,a.Uk)((0,i.zw)(S.cartNum)+" ",1),C])):(0,a.kq)("",!0)])])])])}var S={data(){return{carts:[],isSidebarOpen:!1}},methods:{getCart(){const t="https://vue3-course-api.hexschool.io/api/test666520/cart";this.$http.get(t).then((t=>{this.carts=t.data.data.carts})).catch((t=>{this.$emitter.emit("push-message",{style:"danger",title:"Something went wrong, please try again."})}))},observeSidebar(){const t=new MutationObserver((t=>{t.forEach((t=>{"dialog"===t.target.getAttribute("role")?(this.isSidebarOpen=!0,this.$emit("sidebar-status",!0)):(this.isSidebarOpen=!1,this.$emit("sidebar-status",!1))}))}));t.observe(document.getElementById("offcanvasNavbar"),{attributes:!0,attributeFilter:["role"]})}},computed:{cartNum(){return this.carts.length}},mounted(){this.$emitter.on("update-cart",(t=>{this.carts=t})),this.observeSidebar()},created(){this.getCart()}},I=s(3744);const D=(0,I.Z)(S,[["render",$]]);var q=D},4831:function(t,e,s){s.d(e,{Z:function(){return w}});var a=s(6252),i=s(3577);const l={class:"container"},n={class:"row"},r={class:"col-lg-8 offset-lg-2 col-10 offset-1"},o={class:"position-relative"},c={class:"d-flex justify-content-between"},d={class:"d-flex flex-column w-25 align-items-center"},u=(0,a._)("span",null,"Cart",-1),p={class:"d-flex flex-column w-25 align-items-center"},b=(0,a._)("span",null,"Order",-1),h={class:"d-flex flex-column w-25 align-items-center"},m=(0,a._)("span",null,"Checkout",-1),g={class:"progress position-absolute translate-middle w-75",style:{"z-index":"-1",height:"0.125rem",top:"33%",left:"50%"}};function f(t,e,s,f,_,y){return(0,a.wg)(),(0,a.iD)("div",l,[(0,a._)("div",n,[(0,a._)("div",r,[(0,a._)("div",o,[(0,a._)("div",c,[(0,a._)("div",d,[(0,a._)("i",{class:(0,i.C_)(["fs-2 text-primary bg-white",`${_.steps.firstStep}`])},null,2),u]),(0,a._)("div",p,[(0,a._)("i",{class:(0,i.C_)(["fs-2 bg-white",`${_.steps.secondStep}`])},null,2),b]),(0,a._)("div",h,[(0,a._)("i",{class:(0,i.C_)(["fs-2 bg-white",`${_.steps.thirdStep}`])},null,2),m])]),(0,a._)("div",g,[(0,a._)("div",{class:"progress-bar",role:"progressbar",style:(0,i.j5)({width:t.progressWidth}),"aria-valuenow":"0","aria-valuemin":"0","aria-valuemax":"100"},null,4)])])])])])}var _={props:["title"],data(){return{steps:{firstStep:"",secondStep:"",thirdStep:""}}},methods:{barStatus(){switch(this.title){case"Cart":this.steps.firstStep="bi bi-1-circle text-primary",this.steps.secondStep="bi bi-2-circle text-black-50",this.steps.thirdStep="bi bi-3-circle text-black-50",this.progressWidth="0%";break;case"Order":this.steps.firstStep="bi bi-check-circle-fill text-primary",this.steps.secondStep="bi bi-2-circle text-primary",this.steps.thirdStep="bi bi-3-circle text-black-50",this.progressWidth="50%";break;case"Checkout":this.steps.firstStep="bi bi-check-circle-fill text-primary",this.steps.secondStep="bi bi-check-circle-fill text-primary",this.steps.thirdStep="bi bi-3-circle text-primary",this.progressWidth="100%";break;default:break}}},created(){this.barStatus()}},y=s(3744);const v=(0,y.Z)(_,[["render",f]]);var w=v},8863:function(t,e,s){s.r(e),s.d(e,{default:function(){return V}});var a=s(6252),i=s(3577),l=s(9963),n=s.p+"img/empty-cart.416ca241.png";const r={class:"container"},o={class:"row",style:{"min-height":"75vh"}},c={key:0,class:"col"},d={class:"table-responsive border rounded mb-3 n-sbar"},u={class:"table align-middle text-center mb-0"},p=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"Product"),(0,a._)("th",null,"Name"),(0,a._)("th",null,"Color"),(0,a._)("th",null,"Price"),(0,a._)("th",null,"Quantity"),(0,a._)("th",null,"Total"),(0,a._)("th",null,"Delete")])],-1),b=["src"],h={for:"buyqant",class:"d-inline-flex"},m=["onClick","disabled"],g=(0,a._)("i",{class:"bi bi-dash-circle-fill link-primary fs-4"},null,-1),f=[g],_=["onUpdate:modelValue","disabled"],y=["onClick","disabled"],v=(0,a._)("i",{class:"bi bi-plus-circle-fill link-primary fs-4"},null,-1),w=[v],k=(0,a._)("br",null,null,-1),x={key:0,class:"text-danger"},C=["disabled","onClick"],$=(0,a._)("i",{class:"bi bi-trash link-danger fs-5"},null,-1),S=[$],I={class:"border-white"},D={colspan:"4"},q={colspan:"1"},W={key:0,class:"fw-bold text-primary"},Z={class:"d-flex justify-content-around mb-3"},M=(0,a._)("button",{class:"btn btn-secondary",type:"button"},"Back to Shopping",-1),N=(0,a._)("button",{class:"btn btn-primary text-white",type:"button"},"Next Step",-1),T={key:1,class:"col text-center"},L=(0,a._)("img",{class:"img-fluid",src:n,alt:"empty cart"},null,-1),U=(0,a._)("p",{class:"fs-5 mb-1"},"Your shopping cart is empty",-1),z=(0,a._)("p",{class:"fs-5"},"Let's fill it up",-1);function F(t,e,s,n,g,v){const $=(0,a.up)("Loading"),F=(0,a.up)("ToastMessages"),B=(0,a.up)("DeleteModal"),E=(0,a.up)("FrontNavbar"),j=(0,a.up)("StepsBar"),O=(0,a.up)("router-link"),Q=(0,a.up)("FrontFooter");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)($,{active:g.isLoading},null,8,["active"]),(0,a.Wm)(F),(0,a.Wm)(B,{onDeleteItem:v.removeCartItem},null,8,["onDeleteItem"]),(0,a.Wm)(E),g.cart&&g.cart.carts&&g.cart.carts.length>0?((0,a.wg)(),(0,a.j4)(j,{key:0,class:"my-4",title:g.stepsTitle},null,8,["title"])):(0,a.kq)("",!0),(0,a._)("div",r,[(0,a._)("div",o,[g.cart&&g.cart.carts&&g.cart.carts.length>0?((0,a.wg)(),(0,a.iD)("div",c,[(0,a._)("div",d,[(0,a._)("table",u,[p,(0,a._)("tbody",null,[g.cart.carts?((0,a.wg)(!0),(0,a.iD)(a.HY,{key:0},(0,a.Ko)(g.cart.carts,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.id},[(0,a._)("td",null,[(0,a._)("img",{src:`${e.product.imageUrl}`,class:"rounded",alt:"...",style:{"max-width":"5rem"}},null,8,b)]),(0,a._)("td",null,(0,i.zw)(e.product.title),1),(0,a._)("td",null,(0,i.zw)(e.product.unit),1),(0,a._)("td",null,"$"+(0,i.zw)(t.$filters.currency(e.product.price)),1),(0,a._)("td",null,[(0,a._)("label",h,[(0,a._)("button",{class:"btn",type:"button",onClick:t=>v.updateQuantity("minus",e),disabled:e.id===g.status.loadingItem},f,8,m),(0,a.wy)((0,a._)("input",{class:"q-input",type:"number",name:"buyqant",id:"buyqant",value:"0",min:"1","onUpdate:modelValue":t=>e.qty=t,disabled:e.id===g.status.loadingItem},null,8,_),[[l.nr,e.qty,void 0,{number:!0}]]),(0,a._)("button",{class:"btn",type:"button",onClick:t=>v.updateQuantity("plus",e),disabled:e.id===g.status.loadingItem},w,8,y)]),k,e.qty===e.product.is_enabled?((0,a.wg)(),(0,a.iD)("span",x," maximum ")):(0,a.kq)("",!0)]),(0,a._)("td",null,"$"+(0,i.zw)(t.$filters.currency(e.product.price*e.qty)),1),(0,a._)("td",null,[(0,a._)("button",{type:"button",class:"btn",disabled:g.status.loadingItem===e.id,"data-bs-toggle":"modal","data-bs-target":"#deleteModal",onClick:t=>this.delItemId=e.id},S,8,C)])])))),128)):(0,a.kq)("",!0)]),(0,a._)("tfoot",I,[(0,a._)("tr",null,[(0,a._)("th",D,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control","aria-label":"text","onUpdate:modelValue":e[0]||(e[0]=e=>t.coupon_code=e),placeholder:"Please enter coupon code"},null,512),[[l.nr,t.coupon_code]])]),(0,a._)("td",q,[(0,a._)("button",{class:"btn btn-outline-secondary",type:"button",onClick:e[1]||(e[1]=(...t)=>v.addCouponCode&&v.addCouponCode(...t))}," Apply ")]),(0,a._)("td",{class:(0,i.C_)({"text-decoration-line-through":g.cart.total!==g.cart.final_total})}," Total: $"+(0,i.zw)(t.$filters.currency(g.cart.total)),3),g.cart.total!==g.cart.final_total?((0,a.wg)(),(0,a.iD)("td",W," Discount: $"+(0,i.zw)(t.$filters.currency(g.cart.final_total)),1)):(0,a.kq)("",!0)])])])]),(0,a._)("div",Z,[(0,a.Wm)(O,{to:"/products"},{default:(0,a.w5)((()=>[M])),_:1}),(0,a.Wm)(O,{to:"/order"},{default:(0,a.w5)((()=>[N])),_:1})])])):((0,a.wg)(),(0,a.iD)("div",T,[L,U,z,(0,a.Wm)(O,{to:"/products",role:"button",class:"btn btn-primary btn-lg text-white mb-5"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Go shopping now ")])),_:1})]))])]),(0,a.Wm)(Q)],64)}var B=s(1829),E=s(6194),j=s(4831),O=s(7773),Q=s(4823),A={components:{FrontNavbar:B.Z,FrontFooter:E.Z,StepsBar:j.Z,ToastMessages:O.Z,DeleteModal:Q.Z},data(){return{stepsTitle:"Cart",status:{loadingItem:""},isLoading:!1,cart:{},delItemId:""}},methods:{getCart(){const t="https://vue3-course-api.hexschool.io/api/test666520/cart";this.isLoading=!0,this.$http.get(t).then((t=>{this.cart=t.data.data,this.isLoading=!1})).catch((t=>{this.$emitter.emit("push-message",{style:"danger",title:"Something went wrong, please try again."})}))},updateQuantity(t,e){this.status.loadingItem=e.id;const s=this.cart.carts.filter((t=>t.id===e.id));s.forEach((s=>{"plus"===t&&s.qty<s.product.is_enabled?(s.qty+=1,this.updateCart(e)):"minus"===t&&s.qty>1?(s.qty-=1,this.updateCart(e)):this.status.loadingItem=""}))},updateCart(t){const e=`https://vue3-course-api.hexschool.io/api/test666520/cart/${t.id}`,s={product_id:t.product_id,qty:t.qty};this.$http.put(e,{data:s}).then((t=>{this.status.loadingItem="",this.getCart()})).catch((t=>{this.$emitter.emit("push-message",{style:"danger",title:"Something went wrong, please try again."})}))},removeCartItem(){this.status.loadingItem=this.delItemId;const t=`https://vue3-course-api.hexschool.io/api/test666520/cart/${this.delItemId}`;this.$http.delete(t).then((t=>{this.getCart(),this.updateCartNum(),this.$emitter.emit("push-message",{style:"primary",title:"The item has been removed."})})).catch((t=>{this.$emitter.emit("push-message",{style:"danger",title:"Something went wrong, please try again."})}))},updateCartNum(){const t="https://vue3-course-api.hexschool.io/api/test666520/cart";this.$http.get(t).then((t=>{const e=t.data.data.carts;this.$emitter.emit("update-cart",e)})).catch((t=>{this.$emitter.emit("push-message",{style:"danger",title:"Something went wrong, please try again."})}))},addCouponCode(){const t="https://vue3-course-api.hexschool.io/api/test666520/coupon",e={code:this.coupon_code};this.$http.post(t,{data:e}).then((t=>{t.data.success?(this.getCart(),this.$emitter.emit("push-message",{style:"primary",title:"The coupon has applied."})):this.$emitter.emit("push-message",{style:"danger",title:"The coupon is wrong or expired."})})).catch((t=>{this.$emitter.emit("push-message",{style:"danger",title:"Something went wrong, please try again."})}))}},created(){this.getCart()}},P=s(3744);const R=(0,P.Z)(A,[["render",F]]);var V=R},745:function(t,e,s){t.exports=s.p+"img/BRITE Logo.ea464648.png"}}]);
//# sourceMappingURL=613.f28e976c.js.map